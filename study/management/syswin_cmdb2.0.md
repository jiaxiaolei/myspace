CMDB2.0团队规范   开发团队规范v0.1 
===============

> 简介:
WEB 项目

1. 每日站会：时间：9:30
   开发团队全员参加。

2. 代码及时提交：需要提交的代码，下班之前提交（并构建）。每天早上团队（构建之后）可以看到最新的成果。

3. 第二接口人制度：
    > 这里着重讨论技术开发团队。
    
    开发团队第一接口人： 第二接口人；
    
    后端开发第一接口人： 第二接口人；
    
    前端开发第一接口人： 第二接口人；
    

    简单来说，每个关键岗位都有应急备用机制。

4. 版本发版计划：
    周四发版日；
    周五交流，总结日；(演示归为总结， check 的一种)
    周三不不加班日； 之前强调比较多，强调健康，避免过劳死。

5. 沟通：
    1) 开发团队指定讨论群； 目前主要用toon。官方唯一指定群。  QQ,微信，钉钉，陌陌... 
     因为请假等原因，不能到公司的，要和项目负责人报备，最好在群里也同步一下；
   



 2) 定期项目汇报；NO; 
    3）观察者机制：比如MPC, UOP;
         团队组织结构： 
         - 项目型组织结构；水平。 专业水平难提高；
         - 职能型组织结构；垂直。 官僚化
         - 矩阵型组织结构；
         - 组合型组织结构；

6. 测试机制
   跟踪测试；
   全面测试；

# NO 
7. 协同工具
    teambition, gitlab,     电子工具为主，故事板作为一种“仪式”感的动作出现。（不是形式啊...  :-P ）
# NO 
8. 敏捷实践
   1） 交换编程（结对编程的妥协）
   
9. review
   1) code reivew 意见要及时回复。 
       review 意见一般会有通知（多以邮件为主），收到通知之后及时到git工具(目前用gitlab)上查看并反馈(修改，重新提交，或者回复意见)
      NO:  在邮件中直接回复。  这些邮件系统一般是公共邮箱，reviewer 本人可能收不到邮件。在gitlab上的操作（回复）都会自动触发通知邮件。
    
#NO 
    2) 文档审核
      - 部署文档审核； 
      - 接口文档审核；

USER TORY:  add review



10. git工作流：

1) 集中式工作流
2) 功能分支工作流

3) Gitflow工作流 ***
    master, develop, release, hotfix(基本用不上)

4) Forking工作流 # 目前gitlab 也没开发fork权限；

11. 环境分离
     DEV, TEST, PROD 
      
      这里指的都是集成环境。

      原则上不允许直接在DEV,TEST,PROD上进行修改。如果紧急情况需要修改，修改时候要尽可能不影响正常使用；改完之后，要主动及时处理（回退）
       NO: 不希望再看到有人把处理回退的工作推给别人（特殊情况除外...离开项目组，离职..）；

# NO
12. 版本发布 
     alpha, 
     beta,
     RC,
     Release

13. TBD 
     1) URL 中 v2 需要吗?

     /cmdb/v2/api/xxxx/xxxxx/
     
      
     2）层-组-模型： 组 有必要性吗？
      #YES: 层-组-模型  TBD: ZL

     3) 用户管理，角色管理？ 需要那么多的角色管理吗？ 应用运维 -- 如何控制不同的权限，只管理对应的应用？ # TBD: ZL

    应用运维： 多个，不同权限， 对应自己的应用；
    基础运维： 多个，同权限 
    顾问：多个， 同权限

     4) 模型 属性的编辑： UI 展示，编辑；
      #YES: 沿用cmdb1.0 table 显示  


     5) 仓库实体关系如何显示
     #TODO: 产品补充；
     6）视图如何显示
     #TODO:
     7) 关系图： 层级展示； -- 朱杰杰确认

     9) 模型 属性  时间： 此刻 -- > 去掉。

14) TODO:

    本周安排： 

    模型 属性  时间： "此刻" -- > 去掉。  1      0.5d     -- 薛媛
    模型-->关系 ：  编辑， 删除  1        front: 2d  -- 肖熊； back: 2d; -- 吴照远
    #NOTE: "关系"  mapping ... 
    仓库： 关系，关系图； 1        front:  3d  -- 朱杰杰 ; back: 3d;  -- 吴照远 


  加关系，变关系；

  查关系；


    模型属性查看，不可编辑 --> 改成表格 1  --  -- 薛媛  # ~

    
    #TODO:  打标签
    接口：
    list: 
    模型组，(子)模型组


    # 创建模型
     选择多个模型组：

     接口： 支持选择多个模型组： 

     8）占位： “统计报表"
     9）占位： 首页
    

    登陆： front: 0.5d back: 0.5d  -- 李永兵    back:  冯导  --   公开
    注册： 
    退出：  ~ 
    修改密码： ~ 


    用户操作日志：  front: 1d  -- 李永兵   back: 2.5d -- 贾晓磊


    -----
    TEST环境部署：KVM   1d；    backend:  -- 贾晓磊 
                          docker 部署：3d:  docker app : 2d; 
                           

 
     数据库集成： backend: 3d   --  张一搏 

     优化，重构； 
    

     ----------调研
    

     关系图： 层级展示； -- 朱杰杰调研，确认  10 
    


    ====>


     
    
14. 绩效管理(产出)
     1）代码提交
     2）文档等输出; 
     3)  xxxx 

15. 代码交付流程(feature)
     一个基本的流程：
     API设计-->API审核-->本机开发和调试-->代码提交-->代码review-->DEV环境构建-->DEV环境验收

16. 代码上线流程：
      DEV环境集成测试-->TEST环境测试验收-->PROD环境部署验收

17. 代码规范

1）Python 规范：
    1）格式：PEP8  
    2)  优雅：pythonic
     《重构》《代码整洁之道》
     3) NO: hard code
         YES: conf
                 constants
         YES: 标准库，第三方， 自定义
      4) 用好 lib 
      5) 做好测试： 单元测试；

2）前端代码规范：
     HTML, JS，CSS
     插件：JSLint, HTMLBeauty, CSSFormat

3） GIT 使用规范： 
  1)  `Merge Branch`:   git pull --rebase;  git rebase; 
  2) commit 规范；commit message.   尽量用英文；
     NO: fix bug, 

建议：强烈： 
4)  注释尽可能英文
认可中国英语教育的成果


5) 日志规范

logging.info("[CMDB2.0] Add model: %s", model)

logging.exception("[CMDB2.0] Add model failed. Exception: %s", e.args)

e.message --> e.args
